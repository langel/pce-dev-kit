<html>
<head>
	<title>PCE VGM Wave Table Ripper</title>
	<style>
		:root {
			--yellow: #eed202;
			--dark: #2c2c2c;
			--light: #c2c2c2;
		}
		html, body {
			background: var(--dark);
			color: var(--light);
		}
		a {
			color: var(--yellow);
		}
		.dragover {
			background: var(--yellow);
		}
		#containment {
			height: 100%;
		}
		#output {
			background: #1f1f1f;
			margin: 1em;
			margin-bottom: 2em;
		}
		#droptarg {
			position: fixed;
			width: 100%;
			height: 100%;
			z-index: 9001;
		}
		footer {
			position: fixed;
			left: 5px;
			bottom: 5px;
		}
	</style>
	<script>
		window.addEventListener("DOMContentLoaded", () => {
			const cont = document.getElementById("containment");
			const droptarg = document.getElementById("droptarg");
			const output = document.getElementById("output");
			// drop handler
			droptarg.addEventListener("drop", (e) => {
				e.preventDefault();
				cont.classList.remove("dragover");
				let out = '';
				[...e.dataTransfer.items].forEach((item, i) => {
					if (item.kind === 'file') {
						const file = item.getAsFile();
						console.log(file);
						out += "<h3>" + file.name + "</h3>";
					}
				});
				output.innerHTML = out;
			});
			// drag hover
			droptarg.addEventListener("dragover", (e) => {
				e.preventDefault();
				cont.classList.add("dragover");
			});
			// drag end
			droptarg.addEventListener("dragleave", (e) => {
				e.preventDefault();
				cont.classList.remove("dragover");
			});
		});
	</script>
</head>
<body>
	<div id="droptarg"></div>
	<div id="containment">
		<h1>PCE VGM Wave Table Ripper</h1>
		Drag a .VGM file with HuC6280 data into this window to start ripping. If your file is .VGZ then rename the file extension to .GZIP and then use 7zip or similar to extract the .VGM file sequestered within.
		<div id="output">
		</div>
		<footer>
			Tool coded by Langel Bookbinder aka b-knox aka puke7 and is part of this balanced <a href="https://github.com/langel/pce-dev-kit" target="_blank">PCE Dev Kit Library</a>.
		</footer>
	</div>
</body>
</html>
